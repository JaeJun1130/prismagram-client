[{"D:\\prismagram-client\\src\\index.js":"1","D:\\prismagram-client\\src\\Components\\App.js":"2","D:\\prismagram-client\\src\\Apollo\\Client.js":"3","D:\\prismagram-client\\src\\Styles\\Theme.js":"4","D:\\prismagram-client\\src\\Styles\\GlobalStyles.js":"5","D:\\prismagram-client\\src\\Components\\Footer.js":"6","D:\\prismagram-client\\src\\Components\\Routers.js":"7","D:\\prismagram-client\\src\\Components\\Header.js":"8","D:\\prismagram-client\\src\\Components\\Input.js":"9","D:\\prismagram-client\\src\\Components\\Icons.js":"10","D:\\prismagram-client\\src\\Routes\\Auth\\index.js":"11","D:\\prismagram-client\\src\\Routes\\Feed\\index.js":"12","D:\\prismagram-client\\src\\Routes\\Explore\\index.js":"13","D:\\prismagram-client\\src\\Routes\\Profile\\index.js":"14","D:\\prismagram-client\\src\\Routes\\Search\\index.js":"15","D:\\prismagram-client\\src\\Routes\\Feed\\FeedContainer.js":"16","D:\\prismagram-client\\src\\Routes\\Explore\\ExploreContainer.js":"17","D:\\prismagram-client\\src\\Routes\\Profile\\ProfilePresenter.js":"18","D:\\prismagram-client\\src\\Routes\\Search\\SearchContainer.js":"19","D:\\prismagram-client\\src\\Routes\\Auth\\AuthContainer.js":"20","D:\\prismagram-client\\src\\Routes\\Feed\\FeedPresenter.js":"21","D:\\prismagram-client\\src\\Routes\\Explore\\ExplorePresenter.js":"22","D:\\prismagram-client\\src\\Routes\\Auth\\AuthMutation.js":"23","D:\\prismagram-client\\src\\Routes\\Search\\SearchPresenter.js":"24","D:\\prismagram-client\\src\\Routes\\Auth\\AuthPresenter.js":"25","D:\\prismagram-client\\src\\Components\\Logo.js":"26","D:\\prismagram-client\\src\\Components\\Button.js":"27","D:\\prismagram-client\\src\\Routes\\Feed\\FeedMutation.js":"28","D:\\prismagram-client\\src\\Components\\Loader.js":"29","D:\\prismagram-client\\src\\Components\\Post\\index.js":"30","D:\\prismagram-client\\src\\Components\\Post\\PostContainer.js":"31","D:\\prismagram-client\\src\\Components\\Post\\PostPresenter.js":"32","D:\\prismagram-client\\src\\Components\\FatText.js":"33","D:\\prismagram-client\\src\\Components\\Avater.js":"34"},{"size":323,"mtime":1609859411509,"results":"35","hashOfConfig":"36"},{"size":1267,"mtime":1610633587936,"results":"37","hashOfConfig":"36"},{"size":585,"mtime":1610456282868,"results":"38","hashOfConfig":"36"},{"size":546,"mtime":1610287825858,"results":"39","hashOfConfig":"36"},{"size":758,"mtime":1610288919156,"results":"40","hashOfConfig":"36"},{"size":1757,"mtime":1610460505602,"results":"41","hashOfConfig":"36"},{"size":923,"mtime":1610456282870,"results":"42","hashOfConfig":"36"},{"size":3059,"mtime":1610459486732,"results":"43","hashOfConfig":"36"},{"size":782,"mtime":1610301836526,"results":"44","hashOfConfig":"36"},{"size":4464,"mtime":1610462420173,"results":"45","hashOfConfig":"36"},{"size":79,"mtime":1609699330489,"results":"46","hashOfConfig":"36"},{"size":79,"mtime":1609700197287,"results":"47","hashOfConfig":"36"},{"size":88,"mtime":1610456282871,"results":"48","hashOfConfig":"36"},{"size":88,"mtime":1610456282871,"results":"49","hashOfConfig":"36"},{"size":85,"mtime":1610456282872,"results":"50","hashOfConfig":"36"},{"size":344,"mtime":1610633243900,"results":"51","hashOfConfig":"36"},{"size":190,"mtime":1609701150695,"results":"52","hashOfConfig":"36"},{"size":134,"mtime":1610456282871,"results":"53","hashOfConfig":"36"},{"size":183,"mtime":1610456282872,"results":"54","hashOfConfig":"36"},{"size":4216,"mtime":1610634621516,"results":"55","hashOfConfig":"36"},{"size":1015,"mtime":1610648005520,"results":"56","hashOfConfig":"36"},{"size":136,"mtime":1609701156886,"results":"57","hashOfConfig":"36"},{"size":694,"mtime":1610163486289,"results":"58","hashOfConfig":"36"},{"size":131,"mtime":1610456282872,"results":"59","hashOfConfig":"36"},{"size":5876,"mtime":1610131913836,"results":"60","hashOfConfig":"36"},{"size":386,"mtime":1609941508369,"results":"61","hashOfConfig":"36"},{"size":505,"mtime":1609944151053,"results":"62","hashOfConfig":"36"},{"size":431,"mtime":1610461291385,"results":"63","hashOfConfig":"36"},{"size":459,"mtime":1610462765385,"results":"64","hashOfConfig":"36"},{"size":79,"mtime":1610633144919,"results":"65","hashOfConfig":"36"},{"size":799,"mtime":1610645301057,"results":"66","hashOfConfig":"36"},{"size":1493,"mtime":1610648603992,"results":"67","hashOfConfig":"36"},{"size":184,"mtime":1610637531465,"results":"68","hashOfConfig":"36"},{"size":617,"mtime":1610647731697,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"4c7tq9",{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"72"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\prismagram-client\\src\\index.js",[],["140","141"],"D:\\prismagram-client\\src\\Components\\App.js",[],"D:\\prismagram-client\\src\\Apollo\\Client.js",[],"D:\\prismagram-client\\src\\Styles\\Theme.js",[],"D:\\prismagram-client\\src\\Styles\\GlobalStyles.js",[],"D:\\prismagram-client\\src\\Components\\Footer.js",[],"D:\\prismagram-client\\src\\Components\\Routers.js",[],"D:\\prismagram-client\\src\\Components\\Header.js",[],"D:\\prismagram-client\\src\\Components\\Input.js",[],"D:\\prismagram-client\\src\\Components\\Icons.js",[],"D:\\prismagram-client\\src\\Routes\\Auth\\index.js",[],"D:\\prismagram-client\\src\\Routes\\Feed\\index.js",[],"D:\\prismagram-client\\src\\Routes\\Explore\\index.js",[],"D:\\prismagram-client\\src\\Routes\\Profile\\index.js",[],"D:\\prismagram-client\\src\\Routes\\Search\\index.js",[],"D:\\prismagram-client\\src\\Routes\\Feed\\FeedContainer.js",[],"D:\\prismagram-client\\src\\Routes\\Explore\\ExploreContainer.js",[],"D:\\prismagram-client\\src\\Routes\\Profile\\ProfilePresenter.js",[],"D:\\prismagram-client\\src\\Routes\\Search\\SearchContainer.js",[],"D:\\prismagram-client\\src\\Routes\\Auth\\AuthContainer.js",["142"],"import React, { useState } from \"react\";\r\nimport AuthPresenter from \"./AuthPresenter\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { CONFIRM_SECERT, CREATE_ACCOUNT, LOG_IN } from \"./AuthMutation\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const LOGIN = \"LOGIN\";\r\nexport const JOIN = \"JOIN\";\r\nexport const SECRET = \"SECRET\";\r\n\r\nconst AuthContainer = () => {\r\n  //폼\r\n  const [action, setAction] = useState(LOGIN);\r\n  //로그인\r\n  const [userData, setUserData] = useState({\r\n    email: \"\",\r\n  });\r\n  //회원가입\r\n  const [joinData, setJoinData] = useState({\r\n    username: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n  });\r\n  const [userSecret, setUserSecret] = useState({\r\n    secret: \"\",\r\n  });\r\n\r\n  //로그인 gql\r\n  const [requestSecretMutation] = useMutation(LOG_IN, {\r\n    variables: {\r\n      email: userData.email,\r\n    },\r\n  });\r\n  //회원가입 gql\r\n  const [createAccountMutation] = useMutation(CREATE_ACCOUNT, {\r\n    variables: {\r\n      username: joinData.username,\r\n      firstName: joinData.firstName,\r\n      lastName: joinData.lastName,\r\n      email: joinData.email,\r\n    },\r\n  });\r\n  //시크릿 gql\r\n  const [confirmSecretMutation] = useMutation(CONFIRM_SECERT, {\r\n    variables: {\r\n      email: userData.email,\r\n      secret: userSecret.secret,\r\n    },\r\n  });\r\n\r\n  //서버통신\r\n  const onSubmit = async (e, form) => {\r\n    const a = userData.email.includes(\"@\");\r\n    const aa = joinData.email.includes(\"@\");\r\n    console.log(e, form);\r\n    e.preventDefault();\r\n\r\n    switch (form) {\r\n      //로그인\r\n      case LOGIN:\r\n        if (userData.email !== \"\") {\r\n          try {\r\n            const {\r\n              data: { requestSecret },\r\n            } = await requestSecretMutation();\r\n            if (!requestSecret || !a) {\r\n              toast.error(\"이메일을 다시 확인하세요\");\r\n            } else if (requestSecret && a) {\r\n              toast.success(\"메일이 전송 되었습니다.\");\r\n              setTimeout(() => {\r\n                setAction(SECRET);\r\n              }, 2000);\r\n            }\r\n          } catch {\r\n            toast.error(\"지금은 로그인 할 수 없습니다\");\r\n          }\r\n        } else {\r\n          toast.error(\"이메일을 입력하세요\");\r\n        }\r\n        break;\r\n\r\n      //회원가입\r\n      case JOIN: {\r\n        if (\r\n          joinData.email !== \"\" &&\r\n          joinData.firstName !== \"\" &&\r\n          joinData.username !== \"\" &&\r\n          joinData.lastName\r\n        ) {\r\n          try {\r\n            const {\r\n              data: { createAccount },\r\n            } = await createAccountMutation();\r\n            if (!createAccount || !aa) {\r\n              toast.error(\"회원정보를 다시 입력하세요\");\r\n            } else if (createAccount && aa) {\r\n              toast.success(\"회원가입 완료\");\r\n            }\r\n          } catch {\r\n            toast.error(\"회원가입을 할 수 없습니다, 다시 시도하세요\");\r\n          }\r\n        } else {\r\n          toast.error(\"모든항목을 입력하세요\");\r\n        }\r\n\r\n        break;\r\n      }\r\n      case SECRET: {\r\n        if (userSecret.secert !== \"\") {\r\n          try {\r\n            const {\r\n              data: { confirmSecret: token },\r\n            } = await confirmSecretMutation();\r\n            console.log(token);\r\n\r\n            if (token) {\r\n              localStorage.setItem(\"token\", token);\r\n              window.location.reload();\r\n            } else {\r\n              console.log(\"실패\");\r\n              localStorage.removeItem(\"token\");\r\n            }\r\n          } catch {\r\n            toast.error(\"암호가 일치하지 않습니다\");\r\n            localStorage.removeItem(\"token\");\r\n          }\r\n        } else {\r\n          toast.error(\"암호를 입력하세요\");\r\n          localStorage.removeItem(\"token\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthPresenter\r\n      action={action}\r\n      setAction={setAction}\r\n      userData={userData}\r\n      setUserData={setUserData}\r\n      joinData={joinData}\r\n      setJoinData={setJoinData}\r\n      onSubmit={onSubmit}\r\n      userSecret={userSecret}\r\n      setUserSecret={setUserSecret}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AuthContainer;\r\n","D:\\prismagram-client\\src\\Routes\\Feed\\FeedPresenter.js",[],"D:\\prismagram-client\\src\\Routes\\Explore\\ExplorePresenter.js",[],"D:\\prismagram-client\\src\\Routes\\Auth\\AuthMutation.js",[],"D:\\prismagram-client\\src\\Routes\\Search\\SearchPresenter.js",[],"D:\\prismagram-client\\src\\Routes\\Auth\\AuthPresenter.js",[],"D:\\prismagram-client\\src\\Components\\Logo.js",[],"D:\\prismagram-client\\src\\Components\\Button.js",[],"D:\\prismagram-client\\src\\Routes\\Feed\\FeedMutation.js",[],"D:\\prismagram-client\\src\\Components\\Loader.js",[],"D:\\prismagram-client\\src\\Components\\Post\\index.js",[],"D:\\prismagram-client\\src\\Components\\Post\\PostContainer.js",[],"D:\\prismagram-client\\src\\Components\\Post\\PostPresenter.js",["143","144"],"D:\\prismagram-client\\src\\Components\\FatText.js",[],"D:\\prismagram-client\\src\\Components\\Avater.js",[],{"ruleId":"145","replacedBy":"146"},{"ruleId":"147","replacedBy":"148"},{"ruleId":"149","severity":1,"message":"150","line":60,"column":5,"nodeType":"151","messageId":"152","endLine":134,"endColumn":6},{"ruleId":"153","severity":1,"message":"154","line":40,"column":7,"nodeType":"155","messageId":"156","endLine":40,"endColumn":14},{"ruleId":"153","severity":1,"message":"157","line":42,"column":7,"nodeType":"155","messageId":"156","endLine":42,"endColumn":13},"no-native-reassign",["158"],"no-negated-in-lhs",["159"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-unused-vars","'Buttons' is assigned a value but never used.","Identifier","unusedVar","'Button' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]